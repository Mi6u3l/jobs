webpackJsonp([1],{"+9+r":function(e,t,n){"use strict";var o=n("/oeL"),i=n("gIuI"),a=n("jzTb"),r=n("Djwt");n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n){this.leads=e,this.session=t,this.externals=n,this.modalClosed=new o.EventEmitter,this.newLead={owner:"",company:"",jobtitle:"",status:"",logourl:"",contactperson:{name:"",email:""},isFavorite:!1},this.companyRating=[]}return e.prototype.ngOnInit=function(){},e.prototype.close=function(e){this.cleanCompanyCard(),e.reset(),this.modalClosed.emit()},e.prototype.submit=function(e){var t=this;this.newLead.owner=this.session.user._id,this.leads.createLead(this.newLead).subscribe(function(e){t.leads.announceNewLead()},function(e){console.log(e)}),e.reset(),this.cleanCompanyCard(),this.modalClosed.emit()},e.prototype.getGlassDoorCompany=function(e,t){var n=this;e.length>2&&(this.searchedCompanyNameLength=this.getCompanyNameLength(e),this.externals.glassDoorData(e).subscribe(function(e){e.response.employers.length>0&&(n.companyRating.push(e.response.employers[0]),t.controls.logourl.markAsDirty(),t.controls.logourl.markAsTouched(),t.controls.logourl.setValue(e.response.employers[0].squareLogo))},function(e){console.log(e)}))},e.prototype.cleanCompanyCard=function(){this.companyRating=[]},e.prototype.watchFieldChanges=function(e){void 0!==e.model&&null!==e.model&&e.model.length<this.searchedCompanyNameLength&&this.cleanCompanyCard()},e.prototype.getCompanyNameLength=function(e){return e.length},e}();s([n.i(o.Output)(),l("design:type",Object)],c.prototype,"modalClosed",void 0),c=s([n.i(o.Component)({selector:"app-dashboard-newlead",template:n("tXL8"),styles:[n("PF+x")]}),l("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(u=void 0!==r.a&&r.a)&&u||Object])],c);var d,p,u},0:function(e,t,n){e.exports=n("cDNt")},"0aAO":function(e,t,n){"use strict";var o=n("/oeL");n.d(t,"a",function(){return r});var i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){this.newLeadActive=!1}return e.prototype.newLead=function(){this.newLeadActive=!this.newLeadActive},e.prototype.onModalClosed=function(){this.newLeadActive=!1},e}();r=i([n.i(o.Component)({selector:"app-dashboard",template:n("HdoV"),styles:[n("cnme")]}),a("design:paramtypes",[])],r)},"493L":function(e,t,n){"use strict";var o=n("/oeL");n.d(t,"a",function(){return a});var i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=function(){function e(){}return e.prototype.transform=function(e){switch(e){case"contacted":e="Contacted";break;case"replyreceived":e="Reply received";break;case"interview":e="Interview";break;case"done":e="Done";break;default:e="Invalid status"}return e},e}();a=i([n.i(o.Pipe)({name:"leadstatus"})],a)},"4uzM":function(e,t){e.exports='<div class="login-container">\n  <form class="loginform" #loginForm="ngForm" (ngSubmit)="login()">\n    <h2>Login</h2>\n    <label for="username">Username</label>\n    <input type="text" [(ngModel)]="user.username" name="username" value="" required>\n    <label for="password">Password</label>\n    <input type="password" [(ngModel)]="user.password" name="password" value="" required>\n    <button\n      id="custom-button"\n      class="btn btn-primary"\n      name="button"\n      [disabled]="!loginForm.valid"\n      >Log in</button>\n  </form>\n</div>\n'},"5mVP":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"6acC":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".section-1{padding-top:1rem;min-height:30vh;text-align:center;background:#edecec}.section-1 h1{margin:0}button{margin:1.3rem 0}.section-2{min-height:70vh;text-align:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;background:linear-gradient(180deg,#91dbcd,#02baa9);padding-top:1rem;border-top:3px solid #a1b1b0}.section-2 p{margin:1.7rem 5px;font-size:1.1rem}@media (min-width:750px){.section-1{min-height:35vh}.section-2{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:65vh;padding-bottom:4rem}.section-2 div{width:40%}button{margin:4rem 0}}@media (min-width:1000px){.section-2 div{width:35%}}",""]),e.exports=e.exports.toString()},"7bxh":function(e,t){e.exports='<app-header></app-header>\n\n<main>\n  <section class="section-1">\n    <h1>Appli.</h1>\n    <h2>Keep track of your job application leads. </h2>\n    <a routerLink="/signup">\n      <button id="custom-button" class="btn btn-primary" type="button" name="signup">Sign up!</button>\n    </a>\n  </section>\n  <section class="section-2">\n    <div class="dashboard">\n      <clr-icon class="note-icon" shape="dashboard" size="72"></clr-icon>\n      <p>See all leads at once in dashboard view and tag your favorites</p>\n    </div>\n    <div class="notes">\n      <clr-icon class="note-icon" shape="upload-cloud" size="72"></clr-icon>\n      <p>No worksheets, always available</p>\n    </div>\n    <div class="files">\n      <clr-icon class="note-icon" shape="blocks-group" size="72"></clr-icon>\n      <p>Keep relevant information in lead timeline</p>\n    </div>\n    <div class="reminders">\n      <clr-icon class="note-icon" shape="alarm-clock" size="72"></clr-icon>\n      <p>Get reminders of leads going sour</p>\n    </div>\n  </section>\n</main>\n'},"7dqe":function(e,t){e.exports='<div id="{{leads[0]?.status}}" class="lead-cards" [dragula]=\'"leadcards"\'>\n  <div id="{{lead._id}}" *ngFor="let lead of leads | leadFilter:pattern">\n    <a routerLink="/lead/{{lead._id}}">\n      <div class="lead-card">\n        <img src="{{lead.logourl}}" alt="Logo">\n        <div class="lead-text">\n          <p class="jobtitle">{{lead.jobtitle}}</p>\n          <p class="company">{{lead.company}}</p>\n        </div>\n        <clr-icon id="{{lead._id}}" class="star" [ngClass]="{\'is-solid\': lead.isFavorite}" shape="star" size="20" (click)="toggleFavorite($event)"></clr-icon>\n      </div>\n    </a>\n  </div>\n</div>\n'},"8pdG":function(e,t,n){"use strict";var o=n("/oeL");n.d(t,"a",function(){return a});var i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=function(){function e(){}return e}();a=i([n.i(o.Component)({selector:"app-not-found",template:'\n    <div class="text-center">\n      <h1>404 Not Found</h1>\n      <clr-icon class="sad-face" shape="sad-face"></clr-icon>\n      <p>You may be lost. Go back <a routerLink="/">home</a>?</p>\n    </div>\n  ',styles:[n("WEM8")]})],a)},CJAm:function(e,t){e.exports='<header id="custom-header" class="header">\n\n  <div *ngIf="router.url==\'/dashboard\'">\n    <div class="header-nav">\n      <a (click)="emitNewLead()" class="nav-link nav-text">\n        <clr-icon shape="plus"></clr-icon>\n      </a>\n    </div>\n  </div>\n\n  <div *ngIf="router.url==\'/dashboard\'">\n    <form class="search" #search="ngForm">\n      <label for="search_input" class="searchlabel">\n        <input id="search_input" type="text" name="search" (keyup)="searchPattern($event)" placeholder="Lead details..">\n      </label>\n    </form>\n  </div>\n\n    <div *ngIf="router.url.includes(\'lead\')">\n      <div class="header-nav">\n        <a (click)="goBack()" class="nav-link nav-text">\n          <clr-icon shape="caret left"></clr-icon>\n        </a>\n        <a (click)="emitEditLead()" class="nav-link nav-text">\n          <clr-icon shape="edit"></clr-icon>\n        </a>\n      </div>\n    </div>\n\n    <div class="header-actions">\n\n      <div *ngIf="alarms?.length > 0">\n        <div class="header-actions">\n          <clr-dropdown [clrMenuPosition]="\'bottom-right\'" [clrCloseMenuOnItemClick]="false">\n            <button type="button" clrDropdownToggle class="alarms">\n                <clr-icon id="alarm-dropdown" shape="alarm-clock"></clr-icon>\n                <span class="alarm-length">{{alarms.length}}</span>\n            </button>\n            <clr-dropdown-menu>\n                <label class="dropdown-header">Leads that have not been updated in 2 weeks</label>\n                <div class="dropdown-divider"></div>\n                <div *ngFor="let alarm of alarms">\n                  <button routerLink="/lead/{{alarm._id}}" type="button" clrDropdownItem>{{alarm.company}}, {{alarm.jobtitle}}</button>\n                </div>\n            </clr-dropdown-menu>\n          </clr-dropdown>\n        </div>\n      </div>\n\n      <div *ngIf="session.isAuthenticated">\n        <div class="header-actions">\n          <span class="loggedin-user nav-link nav-text">Logged in as: {{session.user.username}}</span>\n          <a (click)="logout()" class="nav-link nav-text">\n            <clr-icon shape="logout"></clr-icon>\n          </a>\n        </div>\n      </div>\n\n      <div *ngIf="!session.isAuthenticated">\n        <div class="header-actions">\n          <a routerLink="/login" class="nav-link nav-text">\n            <clr-icon shape="login"></clr-icon>\n          </a>\n        </div>\n      </div>\n\n    </div>\n\n</header>\n'},Djwt:function(e,t,n){"use strict";var o=n("/oeL"),i=n("CPp0"),a=n("Dqrr"),r=(n.n(a),n("p5Ee")),s=n("5v8a"),l=(n.n(s),n("xpf9"));n.n(l);n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){this.http=e,this.url=r.a.base_url}return e.prototype.handleError=function(e){return a.Observable.throw(e.json().message)},e.prototype.glassDoorData=function(e){return this.http.get(this.url+"/ext/glassdoor?company="+e).map(function(e){return e.json()}).catch(this.handleError)},e}();p=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(u=void 0!==i.d&&i.d)&&u||Object])],p);var u},HdoV:function(e,t){e.exports='<app-header\n  (plusButton)="newLead()"\n  >\n</app-header>\n\n<flash-messages></flash-messages>\n\n<app-dashboard-newlead [hidden]="!newLeadActive" (modalClosed)="onModalClosed()"></app-dashboard-newlead>\n\n<app-dashboard-columns></app-dashboard-columns>\n'},KDAQ:function(e,t){e.exports='<app-header></app-header>\n\n<app-lead-edit [editableLead]="individualLead" [hidden]="!editLeadActive" (modalClosed)="toggleEditLead()" (leadUpdated)="getLeadParamId()"></app-lead-edit>\n\n<div [hidden]="!deleteLeadActive" class="modal">\n    <div class="modal-dialog" role="dialog" aria-hidden="true">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h3 class="modal-title">Confirm lead delete</h3>\n            </div>\n            <div class="modal-body">\n                <p>Press delete to remove lead. Cancel to go back.</p>\n            </div>\n            <div class="modal-footer">\n                <button id="custom-button-cancel" class="btn" type="button" (click)="toggleDeleteLead()">Cancel</button>\n                <button id="custom-button-delete" class="btn" type="button" (click)="deleteLead()">Delete</button>\n            </div>\n        </div>\n    </div>\n  <div class="modal-backdrop" aria-hidden="true"></div>\n</div>\n\n<div [hidden]="!emailInfoModalActive" class="modal">\n    <div class="modal-dialog" role="dialog" aria-hidden="true">\n        <div class="modal-content">\n            <div class="modal-header">\n                <h3 class="modal-title">Send an email to this timeline!</h3>\n            </div>\n            <div class="modal-body">\n                <p>Forward your email to this address:\n                  <br><strong id="mailaddress">744d98aedf9fa8b9b23c@cloudmailin.net</strong>\n                </p>\n                <p>Your email subject has to be:\n                  <br><strong>{{individualLead._id}}</strong>\n                </p>\n            </div>\n            <div class="modal-footer">\n                <button id="custom-button" class="btn btn-primary" type="button" (click)="toggleEmailInfoModal()">Ok</button>\n            </div>\n        </div>\n    </div>\n  <div class="modal-backdrop" aria-hidden="true"></div>\n</div>\n\n<div *ngIf="individualLead" class="page-content">\n  <div class="flex-container">\n    <div class="main-col main-col-1">\n      <div class="topic">\n        <img class="topic-img" src="{{individualLead.logourl}}" alt="">\n        <div class="topic-text">\n          <div *ngIf="individualLead.isFavorite" class="markedasfavorite">\n            <clr-icon class="star is-solid" shape="star" size="20"></clr-icon>\n            <span class="markedasfavorite-span">Favorite</span>\n          </div>\n          <h2>{{individualLead.jobtitle}}</h2>\n          <h3>{{individualLead.company}}</h3>\n          <p>Last updated: {{individualLead.updated_at | date:\'longDate\'}}</p>\n        </div>\n      </div>\n      <div class="lead-info">\n        <h3>Lead status</h3>\n        <h4>{{individualLead.status | leadstatus}}</h4>\n        <h3>Lead created</h3>\n        <h4>{{individualLead.created_at | date:\'longDate\'}}</h4>\n      </div>\n      <div class="lead-contact">\n        <h3>Lead contact</h3>\n        <h4>{{individualLead.contactperson?.name}}</h4>\n        <h4>{{individualLead?.contactperson?.email}}</h4>\n      </div>\n      <button id="custom-button-delete" class="btn lead-delete-button" type="button" name="deletelead" (click)="toggleDeleteLead()">Delete lead</button>\n    </div>\n\n    <div class="main-col main-col-2">\n      <h2>Lead timeline</h2>\n      <div class="timeline-features">\n        <div class="new-entry" [hidden]="timelineButtonsHidden" (click)="toggleTimelineEntry()">\n          <clr-icon class="note-icon" shape="note" size="48"></clr-icon>\n        </div>\n        <div class="new-mail-entry" [hidden]="timelineButtonsHidden" (click)="toggleEmailInfoModal()">\n          <clr-icon class="note-icon" shape="email" size="48"></clr-icon>\n        </div>\n        <div class="new-entry-attachment" [hidden]="timelineButtonsHidden" (click)="toggleAttachmentAdd()">\n          <clr-icon class="note-icon" shape="file" size="48"></clr-icon>\n        </div>\n      </div>\n\n      <form class="new-entry-form" [hidden]="!timelineEntryActive" #timelineEntry="ngForm" (ngSubmit)="submitTimelineEntry(timelineEntry)">\n        <textarea\n          id="content"\n          name="content"\n          [(ngModel)]="newEntry.content"\n          required>\n        </textarea>\n        <button\n          id="custom-button"\n          class="btn btn-primary"\n          [disabled]="!timelineEntry.valid"\n          >Save</button>\n        <clr-icon class="note-icon close-entry" shape="close" size="32" (click)="cancelTimelineEntry(timelineEntry)"></clr-icon>\n      </form>\n\n      <div\n        [hidden]="!attachmentAddActive"\n        ng2FileDrop\n        [ngClass]="{\'nv-file-over\': hasBaseDropZoneOver}"\n        (fileOver)="fileOverBase($event)"\n        [uploader]="uploader"\n        class="well my-drop-zone file-upload"\n        name="attachment"\n        >\n        Drag file(s) here\n      </div>\n      <div class="file-upload-actions" [hidden]="!attachmentAddActive">\n        <clr-icon class="note-icon upload-cancel" shape="close" size="32" (click)="closeAttachmentAdd()"></clr-icon>\n        <clr-icon class="note-icon upload-file" shape="floppy" size="32" (click)="addAttachments()"></clr-icon>\n      </div>\n\n      <div *ngFor="let item of uploader.queue">\n        <p class="upload-item-name">{{ item?.file?.name }}\n          <clr-icon *ngIf="item?.isError" class="note-icon error-upload" shape="error" size="24"></clr-icon>\n          <span *ngIf="item?.isUploading" class="spinner spinner-sm uploading"></span>\n          <clr-icon *ngIf="item?.isUploaded" class="note-icon uploaded" shape="check" size="24"></clr-icon>\n        </p>\n      </div>\n\n      <div class="timeline-content">\n        <div *ngIf="allTimelineEntries">\n          <div *ngFor="let entry of allTimelineEntries">\n            <div class="entry">\n              <p class="entry-date">{{entry.created_at | date:\'longDate\'}}\n                  <clr-icon *ngIf="entry.creator === \'email\'" class="note-icon" shape="email" size="24"></clr-icon>\n                  <clr-icon *ngIf="entry.creator === \'manual\'" class="note-icon" shape="user" size="24"></clr-icon>\n                  <clr-icon *ngIf="entry.creator === \'app\'" class="note-icon" shape="display" size="24"></clr-icon>\n              </p>\n              <p class="entry-content">{{entry.content}}\n                <a *ngIf="entry.fileurl" href="{{entry.fileurl}}">{{entry.filename}}</a>\n                <clr-icon id="{{entry._id}}" class="note-icon remove-entry" shape="trash" size="24" (click)="deleteTimelineEntry($event)"></clr-icon>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},KR5q:function(e,t,n){"use strict";var o=n("/oeL"),i=n("CPp0"),a=n("Dqrr"),r=(n.n(a),n("p5Ee"));n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e,this.url=r.a.base_url}return e.prototype.handleError=function(e){return a.Observable.throw(e)},e.prototype.createTimelineEntry=function(e){return this.http.post(this.url+"/api/timeline/new",e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.getLeadTimeLineEntries=function(e){return this.http.get(this.url+"/api/timeline/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.deleteTimelineEntry=function(e){return this.http.delete(this.url+"/api/timeline/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.getS3Credentials=function(e,t){return this.http.get(this.url+"/api/sign-s3?file-name="+e+"&file-type="+t,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.getOptions=function(){var e=localStorage.getItem("token"),t=new i.b({Authorization:"JWT "+e});return new i.c({headers:t})},e}();c=s([n.i(o.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==i.d&&i.d)&&d||Object])],c);var d},Kqur:function(e,t){e.exports='<div class="modal">\n  <div class="modal-dialog modal-lg" role="dialog" aria-hidden="true">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button aria-label="Close" class="close" type="button">\n            <clr-icon aria-hidden="true" shape="close" (click)="close()"></clr-icon>\n        </button>\n        <h3 class="modal-title">Update lead</h3>\n      </div>\n\n      <div class="modal-content-container">\n        <div class="modal-body">\n          <form #editForm="ngForm" (ngSubmit)="submitEdit()">\n            <section class="form-block">\n\n              <div class="form-group">\n                <label for="jobtitle">Job title</label>\n                <label for="jobtitle"\n                  aria-haspopup="true"\n                  role="tooltip"\n                  class="tooltip tooltip-validation tooltip-md"\n                  [class.invalid]="jobtitleInput.invalid && (jobtitleInput.dirty || jobtitleInput.touched)">\n                <input\n                  type="text"\n                  name="jobtitle"\n                  size="25"\n                  [(ngModel)]="editableLead.jobtitle"\n                  #jobtitleInput="ngModel"\n                  required\n                  >\n                  <span class="tooltip-content">Job title is required.</span>\n                </label>\n              </div>\n\n              <div class="form-group">\n                <label for="company">Company</label>\n                <label for="company" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-md" [class.invalid]="companyInput.invalid && (companyInput.dirty || companyInput.touched)">\n                          <input\n                            type="text"\n                            name="company"\n                            size="25"\n                            [(ngModel)]="editableLead.company"\n                            #companyInput="ngModel"\n                            required\n                            >\n                          <span class="tooltip-content">Company is required.</span>\n                        </label>\n              </div>\n\n              <div class="form-group">\n                <label for="status">Status</label>\n                <div class="select">\n                  <select name="status" [(ngModel)]="editableLead.status" required>\n                    <option [value]="statusOpts.contacted">Contacted</option>\n                    <option [value]="statusOpts.replyreceived">Reply received</option>\n                    <option [value]="statusOpts.interview">Interview</option>\n                    <option [value]="statusOpts.done">Done</option>\n                  </select>\n                </div>\n              </div>\n\n              <div class="form-group">\n                <label for="contactperson-email">Contact person email </label>\n                <label for="contactperson-email" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-md" [class.invalid]="emailInput.invalid && (emailInput.dirty || emailInput.touched)">\n                              <input\n                                type="email"\n                                name="contactpersonemail"\n                                size="25"\n                                [(ngModel)]="editableLead.contactperson.email"\n                                #emailInput="ngModel"\n                                required\n                                email\n                                >\n                              <span class="tooltip-content">Email is not valid.</span>\n                            </label>\n              </div>\n\n              <div class="form-group">\n                <label for="contactperson-name">Contact person name </label>\n                <input\n                  type="text"\n                  name="contactperson-name"\n                  size="28"\n                  [(ngModel)]="editableLead.contactperson.name"\n                  >\n              </div>\n\n              <div class="form-group">\n                <label for="logourl">Company logo url</label>\n                <input\n                  type="text"\n                  name="logourl"\n                  size="28"\n                  [(ngModel)]="editableLead.logourl"\n                  >\n              </div>\n\n              <button id="custom-button" class="btn btn-primary" [disabled]="!editForm.valid">Update</button>\n            </section>\n          </form>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-backdrop" aria-hidden="true"></div>\n'},NSpL:function(e,t,n){"use strict";var o=n("/oeL"),i=n("BkNc"),a=n("gIuI");n.d(t,"a",function(){return l});var r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.leads=e,this.router=t,this.modalClosed=new o.EventEmitter,this.leadUpdated=new o.EventEmitter,this.statusOpts={contacted:"contacted",replyreceived:"replyreceived",interview:"interview",done:"done"}}return e.prototype.close=function(){this.modalClosed.emit()},e.prototype.submitEdit=function(){var e=this;this.leads.updateLead(this.editableLead._id,this.editableLead).subscribe(function(t){e.modalClosed.emit(),e.leadUpdated.emit(),e.leads.announceAlarmChange()},function(e){console.log(e)})},e}();r([n.i(o.Output)(),s("design:type",Object)],l.prototype,"modalClosed",void 0),r([n.i(o.Output)(),s("design:type",Object)],l.prototype,"leadUpdated",void 0),r([n.i(o.Input)(),s("design:type",Object)],l.prototype,"editableLead",void 0),l=r([n.i(o.Component)({selector:"app-lead-edit",template:n("Kqur"),styles:[n("5mVP")]}),s("design:paramtypes",["function"==typeof(c=void 0!==a.a&&a.a)&&c||Object,"function"==typeof(d=void 0!==i.a&&i.a)&&d||Object])],l);var c,d},Oi5W:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"#custom-header{background:linear-gradient(270deg,#82d9c8,#02baa9)}#search_input{display:inline-block!important;margin-left:5px}.search{font-size:1.2rem}clr-icon{width:28px!important;height:28px!important}.loggedin-user{display:none!important;cursor:default}.alarms{cursor:pointer;padding:0!important}.alarms span{color:red}.alarms clr-icon{fill:red}.alarm-length{margin-right:1rem!important}button{outline:none!important}clr-dropdown-menu{padding:0!important}.dropdown-header{padding-top:5px}.dropdown-divider{margin:0}@media (min-width:550px){.loggedin-user{display:inline-block!important}}",""]),e.exports=e.exports.toString()},"PF+x":function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"#newlead{margin-top:2rem}#modalbody{width:100%;min-height:50%}#card-image{width:64px;height:64px;border:none;border-radius:3px}#card-picname *{display:inline}#poweredbyglassdoor{display:block;margin-top:15px}.modal-content-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.modalcards{display:none}.card-img{text-align:center}.companyname{margin-left:20px;font:1.2rem;font-weight:700}.featured-review,.overall-rating{font-weight:700}.ceo-p,.review-p{margin:0;font-size:.9rem}@media (min-width:750px){.modal-content-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}#modalbody{width:55%}.modalcards{width:40%;display:block;margin-left:3rem}}@media (min-width:1000px){#modalbody{width:65%}.modalcards{width:40%;display:block;margin-left:0}}",""]),e.exports=e.exports.toString()},Pg2d:function(e,t,n){"use strict";var o=n("/oeL"),i=n("CPp0"),a=n("p5Ee"),r=n("Dqrr");n.n(r);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this.http=e,this.url=a.a.base_url}return e.prototype.handleError=function(e){return r.Observable.throw(e.json().message)},e.prototype.signup=function(e){return this.http.post(this.url+"/auth/signup",e).map(function(e){return e}).catch(this.handleError)},e}();c=s([n.i(o.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==i.d&&i.d)&&d||Object])],c);var d},PjwQ:function(e,t){e.exports='<div class="signup-container">\n  <form class="signupform" #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)">\n    <h2>Signup</h2>\n    <label for="username">Username</label>\n    <input type="text" [(ngModel)]="newUser.username" name="username" value="" required>\n    <label for="email">Email</label>\n    <input type="text" [(ngModel)]="newUser.email" name="email" value="" required>\n    <label for="password">Password</label>\n    <input type="password" [(ngModel)]="newUser.password" name="password" value="" minlength="3" required>\n    <button\n      id="custom-button"\n      name="button"\n      class="btn btn-primary"\n      [disabled]="!signupForm.valid"\n      >\n      Sign up</button>\n  </form>\n</div>\n'},QYZy:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".signup-container{min-height:100vh;background-color:#f5f5f5}.signup-container,.signupform{display:-webkit-box;display:-ms-flexbox;display:flex}.signupform{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:15px;width:100%}.signupform h2{margin-bottom:20px;margin-top:30px}button{margin:30px auto;width:40%}input,label{margin-top:10px}@media (min-width:600px){.signupform{width:450px;margin:0 auto}}",""]),e.exports=e.exports.toString()},UbAT:function(e,t,n){"use strict";var o=n("/oeL"),i=n("BkNc"),a=n("jzTb"),r=n("Pg2d"),s=n("AJJj");n.n(s);n.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=(function(){function e(){}}(),function(){function e(e,t,n,o){this.session=e,this.signup=t,this.router=n,this.flash=o,this.user={username:"",password:""}}return e.prototype.ngOnInit=function(){},e.prototype.login=function(){var e=this;this.session.login(this.user).subscribe(function(t){e.router.navigate(["dashboard"])},function(t){e.flash.show("Login unsuccessful: "+t+".",{cssClass:"alert-danger",timeout:4e3})})},e}());d=l([n.i(o.Component)({selector:"app-login",template:n("4uzM"),styles:[n("v8Xq")]}),c("design:paramtypes",["function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(u=void 0!==r.a&&r.a)&&u||Object,"function"==typeof(f=void 0!==i.a&&i.a)&&f||Object,"function"==typeof(m=void 0!==s.FlashMessagesService&&s.FlashMessagesService)&&m||Object])],d);var p,u,f,m},WEM8:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".sad-face{width:128px;height:128px;margin-top:1rem}p{font-size:1.5rem}",""]),e.exports=e.exports.toString()},X2oq:function(e,t){e.exports='<div class="columns">\n\n  <div class="lead-col lead-contacted">\n    <p class="col-header">Contacted</p>\n    <div *ngIf="leadsContacted">\n      <app-dashboard-leadcard id="contacted" [leads]="leadsContacted"></app-dashboard-leadcard>\n    </div>\n  </div>\n\n  <div class="lead-col lead-replyreceived">\n    <p class="col-header">Reply received</p>\n    <div *ngIf="leadsReplyReceived">\n      <app-dashboard-leadcard id="replyreceived" [leads]="leadsReplyReceived"></app-dashboard-leadcard>\n    </div>\n  </div>\n\n  <div class="lead-col lead-interview">\n    <p class="col-header">Interview</p>\n    <div *ngIf="leadsInterview">\n      <app-dashboard-leadcard id="interview" [leads]="leadsInterview"></app-dashboard-leadcard>\n    </div>\n  </div>\n\n  <div class="lead-col lead-done">\n    <p class="col-header">Done</p>\n    <div *ngIf="leadsDone">\n      <app-dashboard-leadcard id="done" [leads]="leadsDone"></app-dashboard-leadcard>\n    </div>\n  </div>\n\n</div>\n'},ZJom:function(e,t,n){"use strict";var o=n("/oeL"),i=n("gIuI");n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){var t=this;this.leadservice=e,this.pattern="",this.leadservice.searchTerm$.debounceTime(250).subscribe(function(e){t.pattern=e.toString()},function(e){console.log(e)})}return e.prototype.ngOnInit=function(){},e.prototype.toggleFavorite=function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.target.parentNode.id?e.target.parentNode.id:e.target.parentNode.parentNode.id;this.leadservice.toggleFavorite(n).subscribe(function(e){t.leadservice.announceNewLead()},function(e){console.log(e)})},e}();a([n.i(o.Input)(),r("design:type",Object)],s.prototype,"leads",void 0),s=a([n.i(o.Component)({selector:"app-dashboard-leadcard",template:n("7dqe"),styles:[n("vrVJ")]}),r("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object])],s);var l},aDlQ:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".markedasfavorite{margin-top:1rem}.star{fill:#ede13c}.page-content{width:100%;min-height:100vh;background-color:#f5f5f5;padding:2rem}.flex-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.main-col{width:100%;min-height:80vh;padding-left:20px;padding-right:20px}.topic{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;min-height:25%}.topic-img{width:192px;height:192px;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.topic-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.topic h2{font-weight:700;margin-top:16px}.lead-info{margin-top:50px}.lead-contact h3,.lead-info h3{font-weight:700}.lead-delete-button{margin-top:5rem}.main-col-2{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;color:#3f3f3f;padding:4px;margin-top:2rem}.main-col-2 h2{margin:0 auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.timeline-features{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.new-entry,.new-entry-attachment,.new-mail-entry{display:-webkit-box;display:-ms-flexbox;display:flex;width:45%;margin:0 auto;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:5rem;border-radius:5px}.timeline-features * clr-icon:hover{fill:#7ed7c8}.note-icon{margin:0 auto}.new-entry-form{width:90%;margin:0 auto}.new-entry-form button{width:100px}.new-entry-form textarea{border:1px solid #d3d3d3}.close-entry:hover{fill:gray}.timeline-content{width:100%;margin:2rem auto 0 auto;padding:5px;height:80%;overflow-y:scroll}.entry{margin:1rem}.entry-date{font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.entry-date clr-icon{margin-left:10px}.entry-content{margin:10px 0 0 0;white-space:pre-line}.remove-entry{float:right}.remove-entry:hover{fill:tomato}.copy-to-clipboard{margin-left:10px}.copy-to-clipboard:hover{fill:#7ed7c8}.file-upload{height:8rem;border-radius:5px;text-align:center;padding-top:2rem;font-weight:700;border:1px dotted #000}.upload-item-name{margin:0}.nv-file-over{background-color:#7ed7c8}.upload-cancel,.upload-file{float:right;margin:10px}.upload-file:hover{fill:#90ee90}.upload-cancel:hover{fill:tomato}.uploaded{fill:#18bfae}.uploading{margin-left:2px}.error-upload{fill:red}@media (min-width:750px){.flex-container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.main-col-1,.main-col-2{width:50%}.timeline-content{margin:2rem auto 0 auto;width:90%}}@media (min-width:1000px){.topic{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.topic-text{margin-left:3rem}.main-col-2{margin-top:0}}",""]),e.exports=e.exports.toString()},"aR8+":function(e,t,n){"use strict";var o=n("wQAS"),i=n("0aAO"),a=n("n9Ag"),r=n("UbAT"),s=n("8pdG"),l=n("e05z"),c=n("tK33"),d=n("ZJom"),p=n("+9+r"),u=n("yzFY"),f=n("eSjN"),m=n("NSpL"),h=n("fc+i"),g=n("/oeL"),v=n("bm2B"),b=n("CPp0"),y=n("AJJj"),w=(n.n(y),n("b4Ce")),x=n("/Lkn"),j=(n.n(x),n("oKOW")),L=(n.n(j),n("jzTb")),O=n("Pg2d"),R=n("gIuI"),k=n("Djwt"),_=n("KR5q"),I=n("jHMo"),C=n("493L"),E=n("gaQ+");n.d(t,"a",function(){return P});var A=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},P=function(){function e(){}return e}();P=A([n.i(g.NgModule)({declarations:[o.a,i.a,a.a,r.a,s.a,l.a,c.a,d.a,p.a,u.a,f.a,m.a,C.a,E.a],imports:[h.a,v.a,b.a,y.FlashMessagesModule,w.a.forRoot(),x.DragulaModule,j.FileUploadModule,I.a],providers:[L.a,O.a,R.a,k.a,_.a],bootstrap:[o.a]})],P)},cDNt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("/oeL"),i=n("Qa4U"),a=n("aR8+");n("p5Ee").a.production&&n.i(o.enableProdMode)(),n.i(i.a)().bootstrapModule(a.a)},cnme:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},e05z:function(e,t,n){"use strict";var o=n("/oeL"),i=n("jzTb");n.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.session=e}return e.prototype.logout=function(){this.session.logout()},e}();s=a([n.i(o.Component)({selector:"app-frontpage",template:n("7bxh"),styles:[n("6acC")]}),r("design:paramtypes",["function"==typeof(l=void 0!==i.a&&i.a)&&l||Object])],s);var l},eSjN:function(e,t,n){"use strict";var o=n("/oeL"),i=n("BkNc"),a=n("jzTb"),r=n("gIuI");n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t,n,i){var a=this;this.session=e,this.leads=t,this.router=n,this.route=i,this.plusButton=new o.EventEmitter,this.leads.alarmChange$.subscribe(function(e){a.getAlarms()},function(e){console.log(e)})}return e.prototype.ngOnInit=function(){this.getAlarms()},e.prototype.goBack=function(){this.router.navigate(["dashboard"])},e.prototype.emitNewLead=function(){this.plusButton.emit()},e.prototype.logout=function(){this.session.logout()},e.prototype.emitEditLead=function(){var e=this.route.url.value[1].path;this.leads.announceEditLead(e)},e.prototype.searchPattern=function(e){this.leads.searchChange(e.target.value)},e.prototype.getAlarms=function(){var e=this;0!==this.route.url.value.length&&this.leads.getLeadAlarms(this.session.user._id).subscribe(function(t){e.alarms=t},function(e){console.log(e)})},e}();s([n.i(o.Output)(),l("design:type",Object)],c.prototype,"plusButton",void 0),c=s([n.i(o.Component)({selector:"app-header",template:n("CJAm"),styles:[n("Oi5W")]}),l("design:paramtypes",["function"==typeof(d=void 0!==a.a&&a.a)&&d||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,"function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(f=void 0!==i.c&&i.c)&&f||Object])],c);var d,p,u,f},efyd:function(e,t){e.exports="<flash-messages></flash-messages>\n<router-outlet></router-outlet>\n"},gIuI:function(e,t,n){"use strict";var o=n("/oeL"),i=n("CPp0"),a=n("Dqrr"),r=(n.n(a),n("rlar")),s=(n.n(r),n("5v8a")),l=(n.n(s),n("xpf9")),c=(n.n(l),n("S7im")),d=(n.n(c),n("p5Ee"));n.d(t,"a",function(){return f});var p=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(e){this.http=e,this.url=d.a.base_url,this.newLeadSource=new r.Subject,this.editLeadSource=new r.Subject,this.searchSource=new r.Subject,this.alarmChangeSource=new r.Subject,this.newLead$=this.newLeadSource.asObservable(),this.editLead$=this.editLeadSource.asObservable(),this.searchTerm$=this.searchSource.asObservable(),this.alarmChange$=this.alarmChangeSource.asObservable()}return e.prototype.handleError=function(e){return a.Observable.throw(e.json().message)},e.prototype.getUserLeads=function(e){return this.http.get(this.url+"/api/leads/"+e._id,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.createLead=function(e){return this.http.post(this.url+"/api/lead/new",e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.getLead=function(e){return this.http.get(this.url+"/api/lead/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.updateLead=function(e,t){return this.http.put(this.url+"/api/lead/"+e,t,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.setLeadUpdateAtAsCurrent=function(e){return this.http.put(this.url+"/api/lead/updatedat/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.deleteLead=function(e){return this.http.delete(this.url+"/api/lead/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.getLeadAlarms=function(e){return this.http.get(this.url+"/api/alarms",this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.toggleFavorite=function(e){return this.http.put(this.url+"/api/lead/favorite/"+e,this.getOptions()).map(function(e){return e.json()}).catch(this.handleError)},e.prototype.announceNewLead=function(){this.newLeadSource.next()},e.prototype.announceEditLead=function(e){this.editLeadSource.next(e)},e.prototype.announceAlarmChange=function(){this.alarmChangeSource.next("lead_content_updated")},e.prototype.searchChange=function(e){this.searchSource.next(e)},e.prototype.getOptions=function(){var e=localStorage.getItem("token"),t=new i.b({Authorization:"JWT "+e});return new i.c({headers:t})},e}();f=p([n.i(o.Injectable)(),u("design:paramtypes",["function"==typeof(m=void 0!==i.d&&i.d)&&m||Object])],f);var m},"gaQ+":function(e,t,n){"use strict";var o=n("/oeL");n.d(t,"a",function(){return a});var i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=function(){function e(){}return e.prototype.transform=function(e,t){if(!e)return[];if(!t)return e;var n=new RegExp(t,"i"),o=e.filter(function(e){return e.company.match(n)}),i=e.filter(function(e){return e.jobtitle.match(n)}),a=e.filter(function(e){return e.contactperson.email.match(n)}),r=e.filter(function(e){return e.contactperson.name.match(n)}),s=o.concat(i,a,r),l=[];return s.forEach(function(e,t){l.includes(e)||l.push(e)}),l},e}();a=i([n.i(o.Pipe)({name:"leadFilter"})],a)},hq7X:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".columns{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;background-color:#f5f5f5;min-height:100vh}.lead-col{border-radius:5px;width:100%;margin:1%}.col-header{margin:2% 5% 4% 5%;border-bottom:1px solid gray;text-transform:uppercase;padding-bottom:3px}@media (min-width:550px){.columns{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.lead-col{width:85%}}@media (min-width:750px){.columns{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;min-height:100vh}}",""]),e.exports=e.exports.toString()},hxJY:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},jHMo:function(e,t,n){"use strict";var o=n("BkNc"),i=n("e05z"),a=n("8pdG"),r=n("n9Ag"),s=n("UbAT"),l=n("0aAO"),c=n("yzFY"),d=n("jzTb");n.d(t,"a",function(){return u});var p=[{path:"",component:i.a},{path:"signup",component:r.a},{path:"login",component:s.a},{path:"dashboard",component:l.a,canActivate:[d.a]},{path:"lead/:id",component:c.a,canActivate:[d.a]},{path:"**",component:a.a}],u=o.b.forRoot(p)},jzTb:function(e,t,n){"use strict";var o=n("/oeL"),i=n("CPp0"),a=n("5v8a"),r=(n.n(a),n("xpf9")),s=(n.n(r),n("Dqrr")),l=(n.n(s),n("BkNc")),c=n("p5Ee");n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=(function(){function e(){}}(),function(){function e(e,t){this.http=e,this.router=t,this.user={username:"",_id:""},this.token="",this.isAuthenticated=!1,this.url=c.a.base_url}return e.prototype.login=function(e){var t=this;return this.http.post(this.url+"/auth/login",e).map(function(e){var n=e.json(),o=n.token,i=n.user;return o&&(t.token=o,t.user={_id:i._id,username:i.username},localStorage.setItem("token",t.token),t.isAuthenticated=!0),t.isAuthenticated}).catch(this.handleError)},e.prototype.logout=function(){this.token="",this.user={username:"",_id:""},this.isAuthenticated=!1,localStorage.removeItem("token"),this.router.navigate(["/"])},e.prototype.handleError=function(e){return s.Observable.throw(e.json().message)},e.prototype.canActivate=function(){var e=this,t=localStorage.getItem("token");if(t){var n=new i.b({Authorization:"JWT "+t}),o=new i.c({headers:n});return this.http.get(this.url+"/auth/auth",o).map(function(n){if(n){var o=n.json();return e.isAuthenticated=!0,e.token=t,e.user={_id:o.user._id,username:o.user.username},!0}return!1}).catch(this.handleError)}return this.router.navigate(["/login"]),!1},e}());u=d([n.i(o.Injectable)(),p("design:paramtypes",["function"==typeof(f=void 0!==i.d&&i.d)&&f||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object])],u);var f,m},n7du:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="n7du"},n9Ag:function(e,t,n){"use strict";var o=n("/oeL"),i=n("Pg2d"),a=n("BkNc"),r=n("AJJj");n.n(r);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=(function(){function e(){}}(),function(){function e(e,t,n){this.signupService=e,this.router=t,this.flash=n,this.newUser={username:"",email:"",password:""}}return e.prototype.ngOnDestroy=function(){},e.prototype.onSubmit=function(e){var t=this;this.signupService.signup(this.newUser).subscribe(function(n){200===n.status&&(t.flash.show("Signup successful. Would you like to log in?",{cssClass:"alert-success",timeout:4e3}),e.reset(),t.router.navigate(["login"]))},function(e){t.flash.show("Signup unsuccessful: "+e+".",{cssClass:"alert-danger",timeout:4e3})})},e}());c=s([n.i(o.Component)({selector:"app-signup",template:n("PjwQ"),styles:[n("QYZy")]}),l("design:paramtypes",["function"==typeof(d=void 0!==i.a&&i.a)&&d||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(u=void 0!==r.FlashMessagesService&&r.FlashMessagesService)&&u||Object])],c);var d,p,u},p5Ee:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={production:!0,base_url:"https://appli-app.herokuapp.com"}},tK33:function(e,t,n){"use strict";var o=n("/oeL"),i=n("gIuI"),a=n("jzTb"),r=n("KR5q"),s=n("/Lkn"),l=(n.n(s),n("493L"));n.d(t,"a",function(){return p});var c=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,o){var i=this;this.leads=e,this.session=t,this.timeline=n,this.dragulaService=o,this.leads.newLead$.subscribe(function(e){i.getLeads()},function(e){console.log(e)}),this.dragulaService.drop.subscribe(function(e){e[2].id!==e[3].id&&i.leads.getLead(e[1].id).subscribe(function(t){t.status=e[2].parentNode.id,i.leads.updateLead(t._id,t).subscribe(function(e){i.leads.announceAlarmChange()})})})}return e.prototype.ngOnInit=function(){this.getLeads()},e.prototype.getLeads=function(){var e=this;this.leads.getUserLeads(this.session.user).subscribe(function(t){e.leadsContacted=t.leadsContacted,e.leadsReplyReceived=t.leadsReplyReceived,e.leadsInterview=t.leadsInterview,e.leadsDone=t.leadsDone,e.sortLeads()},function(e){console.log(e)})},e.prototype.sortLeads=function(){this.leadsContacted.sort(function(e,t){return t.isFavorite-e.isFavorite}),this.leadsReplyReceived.sort(function(e,t){return t.isFavorite-e.isFavorite}),this.leadsInterview.sort(function(e,t){return t.isFavorite-e.isFavorite}),this.leadsDone.sort(function(e,t){return t.isFavorite-e.isFavorite})},e.prototype.getCardColIndex=function(e){return Array.from(e.parentNode.children).indexOf(e)},e.prototype.statusChangeTimelineEntry=function(e){if(e[2].parentNode.id!==e[3].parentNode.id){var t=(new l.a).transform(e[3].parentNode.id),n=(new l.a).transform(e[2].parentNode.id);this.newTimelineEntry={owner:this.session.user._id,lead:e[1].id,content:"Status change: Moved from "+t+" to "+n+".",creator:"app",fileurl:"",filename:""},this.timeline.createTimelineEntry(this.newTimelineEntry).subscribe(function(e){},function(e){console.log(e)})}},e}();p=c([n.i(o.Component)({selector:"app-dashboard-columns",template:n("X2oq"),styles:[n("hq7X")]}),d("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(h=void 0!==s.DragulaService&&s.DragulaService)&&h||Object])],p);var u,f,m,h},tXL8:function(e,t){e.exports='<div class="modal">\n  <div class="modal-dialog modal-xl" role="dialog" aria-hidden="true">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button aria-label="Close" class="close" type="button">\n            <clr-icon aria-hidden="true" shape="close" (click)="close(submitForm)"></clr-icon>\n        </button>\n        <h3 class="modal-title">Create new lead</h3>\n      </div>\n      <div class="modal-content-container">\n        <div id="modalbody" class="modal-body">\n          <form id="newlead" #submitForm="ngForm" (ngSubmit)="submit(submitForm)">\n            <section class="form-block">\n              <div class="form-group">\n                <label for="company">Company</label>\n                <label for="company" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-md" [class.invalid]="companyInput.invalid && (companyInput.dirty || companyInput.touched)">\n                          <input\n                            type="text"\n                            name="company"\n                            size="25"\n                            [(ngModel)]="newLead.company"\n                            #companyInput="ngModel"\n                            (blur)="getGlassDoorCompany(newLead.company, submitForm)"\n                            (keydown)="watchFieldChanges(companyInput)"\n                            required\n                            >\n                          <span class="tooltip-content">Company is required.</span>\n                        </label>\n              </div>\n              <div class="form-group">\n                <label for="contactperson-email">Contact person email </label>\n                <label for="contactperson-email" aria-haspopup="true" role="tooltip" class="tooltip tooltip-validation tooltip-md" [class.invalid]="emailInput.invalid && (emailInput.dirty || emailInput.touched)">\n                              <input\n                                type="text"\n                                name="contactperson-email"\n                                size="25"\n                                [(ngModel)]="newLead.contactperson.email"\n                                #emailInput="ngModel"\n                                required\n                                email\n                                >\n                              <span class="tooltip-content">Email is not valid.</span>\n                            </label>\n              </div>\n              <div class="form-group">\n                <label for="contactperson-name">Contact person name </label>\n                <input\n                  type="text"\n                  name="contactperson-name"\n                  size="28"\n                  [(ngModel)]="newLead.contactperson.name"\n                  >\n              </div>\n              <div class="form-group">\n                <label for="jobtitle">Job title</label>\n                <label for="jobtitle"\n                  aria-haspopup="true"\n                  role="tooltip"\n                  class="tooltip tooltip-validation tooltip-md"\n                  [class.invalid]="jobtitleInput.invalid && (jobtitleInput.dirty || jobtitleInput.touched)">\n                <input\n                  type="text"\n                  name="jobtitle"\n                  size="25"\n                  [(ngModel)]="newLead.jobtitle"\n                  #jobtitleInput="ngModel"\n                  required\n                  >\n                  <span class="tooltip-content">Job title is required.</span>\n                </label>\n              </div>\n              <div class="form-group">\n                <label for="status">Status</label>\n                <div class="select">\n                  <select name="status" [(ngModel)]="newLead.status" required>\n                                    <option value="contacted">Contacted</option>\n                                    <option value="replyreceived">Reply received</option>\n                                    <option value="interview">Interview</option>\n                                    <option value="done">Done</option>\n                                </select>\n                </div>\n              </div>\n\n              <div class="form-group">\n                <label for="logourl">Company logo url</label>\n                <input\n                  type="text"\n                  name="logourl"\n                  size="28"\n                  [(ngModel)]="newLead.logourl"\n                  >\n              </div>\n\n              <button id="custom-button" class="btn btn-primary" [disabled]="!submitForm.valid">Create</button>\n            </section>\n          </form>\n        </div>\n\n        <div *ngIf="companyRating.length > 0" class="modalcards">\n            <div class="card">\n              <div id="card-picname" class="card-img">\n                <img id="card-image" src="{{companyRating[0]?.squareLogo}}" alt="No logo found." />\n                <span class="companyname">{{companyRating[0].name}}</span>\n              </div>\n              <div class="card-block">\n                <p class="card-text overall-rating">\n                  Overall rating: {{companyRating[0].overallRating}} out of {{companyRating[0].numberOfRatings}} ratings\n                </p>\n                <div *ngIf="companyRating[0].ceo">\n                  <p class="ceo-p">{{companyRating[0].ceo.pctApprove}} % of {{companyRating[0].ceo.numberOfRatings}} ratings approve CEO.</p>\n                </div>\n                <div *ngIf="companyRating[0].featuredReview">\n                  <p class="featured-review">Featured review</p>\n                  <p class="review-p"><strong>Title:</strong> {{companyRating[0].featuredReview.jobTitle}}</p>\n                  <p class="review-p"><strong>Pros:</strong> {{companyRating[0].featuredReview.pros}}</p>\n                  <p class="review-p"><strong>Cons:</strong> {{companyRating[0].featuredReview.cons}}</p>\n                  <p class="review-p"><strong>Reviewer location:</strong> {{companyRating[0].featuredReview.location}}</p>\n                </div>\n                <a id="poweredbyglassdoor" href=\'https://www.glassdoor.com/index.htm\'>powered by <img src=\'https://www.glassdoor.com/static/img/api/glassdoor_logo_80.png\' title=\'Job Search\' /></a>\n              </div>\n            </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n<div class="modal-backdrop" aria-hidden="true"></div>\n'},v8Xq:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".login-container{min-height:100vh;background-color:#f5f5f5}.login-container,.loginform{display:-webkit-box;display:-ms-flexbox;display:flex}.loginform{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:15px;width:100%}.loginform h2{margin-bottom:20px;margin-top:30px}button{margin:30px auto;width:40%}input,label{margin-top:10px}@media (min-width:600px){.loginform{width:450px;margin:0 auto}}",""]),e.exports=e.exports.toString()},vrVJ:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".lead-cards{min-height:150px}a{text-decoration:none}.lead-card:hover{box-shadow:2px 2px 2px 1px #ddd}.lead-card{min-height:100px;margin:5%;display:-webkit-box;display:-ms-flexbox;display:flex;box-shadow:1px 1px 1px 0 #d3d3d3;background-color:#fff;color:#3f3f3f;padding:4px;position:relative}.lead-card img{width:64px;height:64px;margin:auto 2%;border-radius:5px}.lead-text{margin:auto 10%}.lead-text p{margin:0}.jobtitle{font-weight:700;font-size:1.2rem}.company{font-size:1rem}.star{position:absolute;right:0;margin-right:.5rem}.is-solid,.star:hover{fill:#ede13c}.is-solid:hover{fill:#faf7ce}@media (min-width:750px){.lead-card img{width:48px;height:48px}.jobtitle{font-size:.8rem}.company{font-size:.7rem}.star{height:16px!important;width:16px!important}}@media (min-width:1000px){.jobtitle{font-size:1.2rem}.company{font-size:1rem}.star{height:20px!important;width:20px!important}}",""]),e.exports=e.exports.toString()},wQAS:function(e,t,n){"use strict";var o=n("/oeL");n.d(t,"a",function(){return r});var i=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e}();r=i([n.i(o.Component)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),a("design:paramtypes",[])],r)},yzFY:function(e,t,n){"use strict";var o=n("/oeL"),i=n("BkNc"),a=n("gIuI"),r=n("KR5q"),s=n("jzTb"),l=n("p5Ee"),c=n("oKOW");n.n(c);n.d(t,"a",function(){return u});var d=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,o,i){var a=this;this.leads=e,this.timeline=t,this.session=n,this.route=o,this.router=i,this.url=l.a.base_url,this.timelineButtonsHidden=!1,this.timelineEntryActive=!1,this.attachmentAddActive=!1,this.emailInfoModalActive=!1,this.editLeadActive=!1,this.deleteLeadActive=!1,this.newEntry={owner:"",lead:"",content:"",creator:"manual",fileurl:"",filename:""},this.individualLead={owner:"",company:"",jobtitle:"",status:"",logourl:"",contactperson:{name:"",email:""},isFavorite:!1},this.uploader=new c.FileUploader({url:""}),this.hasBaseDropZoneOver=!1,this.hasAnotherDropZoneOver=!1,this.leads.editLead$.subscribe(function(e){a.toggleEditLead()},function(e){console.log(e)}),this.uploader.onSuccessItem=function(e,t,n,o){a.timeline.createTimelineEntry({owner:a.session.user._id,lead:a.route.snapshot.params.id,content:"Uploaded attachment",creator:"manual",fileurl:a.itemUrl,filename:e.file.name}).subscribe(function(t){a.getLeadTimelineEntries(a.route.snapshot.params.id),a.updateLeadUpdateAt(a.route.snapshot.params.id),a.getLeadParamId(),a.leads.announceAlarmChange(),a.uploader.removeFromQueue(e)},function(e){console.log(e)})}}return e.prototype.fileOverBase=function(e){this.hasBaseDropZoneOver=e},e.prototype.ngOnInit=function(){this.getLeadParamId(),this.getLeadTimelineEntries(this.route.snapshot.params.id)},e.prototype.getLeadParamId=function(){var e=this;this.route.params.subscribe(function(t){e.getLead(t.id)})},e.prototype.getLead=function(e){var t=this;this.leads.getLead(e).subscribe(function(e){t.individualLead=e},function(e){console.log(e)})},e.prototype.deleteLead=function(){var e=this;this.leads.deleteLead(this.individualLead._id).subscribe(function(t){e.router.navigate(["dashboard"])},function(e){console.log(e)})},e.prototype.cancelTimelineEntry=function(e){e.reset(),this.toggleTimelineEntry()},e.prototype.submitTimelineEntry=function(e){var t=this;this.newEntry.owner=this.session.user._id,this.newEntry.lead=this.route.snapshot.params.id,this.timeline.createTimelineEntry(this.newEntry).subscribe(function(e){t.getLeadTimelineEntries(t.newEntry.lead),t.updateLeadUpdateAt(t.newEntry.lead),t.leads.announceAlarmChange()},function(e){console.log(e)}),e.reset(),this.toggleTimelineEntry()},e.prototype.getLeadTimelineEntries=function(e){var t=this;this.timeline.getLeadTimeLineEntries(e).subscribe(function(e){t.allTimelineEntries=e},function(e){console.log(e)})},e.prototype.deleteTimelineEntry=function(e){var t=this;this.timeline.deleteTimelineEntry(e.target.parentNode.id).subscribe(function(e){t.getLeadTimelineEntries(t.route.snapshot.params.id)},function(e){console.log(e)})},e.prototype.closeAttachmentAdd=function(){this.uploader.cancelAll(),this.uploader.clearQueue(),this.toggleAttachmentAdd()},e.prototype.addAttachments=function(){var e=this;this.uploader.queue.forEach(function(t){e.timeline.getS3Credentials(t.file.name,t.file.type).subscribe(function(n){e.uploader.options.url=n.signedRequest,e.itemUrl=n.url,t.url=n.signedRequest,t.method="PUT",t.withCredentials=!1,e.uploader.uploadItem(t)},function(e){console.log(e)})})},e.prototype.updateLeadUpdateAt=function(e){this.leads.setLeadUpdateAtAsCurrent(e).subscribe(function(e){},function(e){console.log(e)})},e.prototype.toggleEditLead=function(){this.editLeadActive=!this.editLeadActive},e.prototype.toggleDeleteLead=function(){this.deleteLeadActive=!this.deleteLeadActive},e.prototype.toggleEmailInfoModal=function(){this.emailInfoModalActive=!this.emailInfoModalActive},e.prototype.toggleTimelineEntry=function(){this.timelineEntryActive=!this.timelineEntryActive,this.toggleTimelineButtonsHidden()},e.prototype.toggleTimelineButtonsHidden=function(){this.timelineButtonsHidden=!this.timelineButtonsHidden},e.prototype.toggleAttachmentAdd=function(){this.toggleTimelineButtonsHidden(),this.attachmentAddActive=!this.attachmentAddActive},e}();u=d([n.i(o.Component)({selector:"app-lead",template:n("KDAQ"),styles:[n("aDlQ")]}),p("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(m=void 0!==r.a&&r.a)&&m||Object,"function"==typeof(h=void 0!==s.a&&s.a)&&h||Object,"function"==typeof(g=void 0!==i.c&&i.c)&&g||Object,"function"==typeof(v=void 0!==i.a&&i.a)&&v||Object])],u);var f,m,h,g,v}},[0]);